jQuery(document).ready(function(e){var t=document.querySelectorAll(".portfolio__card-slider");try{t&&t.forEach((e,t)=>{new Swiper(".portfolio__card-slider--"+(t+1),{slidesPerView:1,spaceBetween:20,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0}})})}catch(e){console.log(e)}try{new Swiper(".jk-slider",{slidesPerView:1,spaceBetween:20,navigation:{nextEl:".jk-slider-btn--next",prevEl:".jk-slider-btn--prev"},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{320:{slidesPerView:1,spaceBetween:15},640:{slidesPerView:2,spaceBetween:15},1024:{slidesPerView:3,spaceBetween:20},1280:{slidesPerView:4,spaceBetween:20}}})}catch(e){console.log(e)}document.querySelectorAll(".portfolio__card-descr-wrapper").forEach(e=>{let t=e.querySelector(".portfolio__card-descr"),a=e.querySelector(".portfolio__card-descr-toggle");console.log("hhfhf"),a.addEventListener("click",()=>{t.classList.toggle("portfolio__card-descr--expanded"),a.textContent=t.classList.contains("portfolio__card-descr--expanded")?"Свернуть":"Развернуть"})});let r=document.querySelectorAll(".faq__item");r.forEach(t=>{var e=t.querySelector(".faq__question");let a=t.querySelector(".faq__answer");t.classList.contains("active")&&(a.style.maxHeight=a.scrollHeight+"px"),e.addEventListener("click",()=>{var e=t.classList.contains("active");r.forEach(e=>{e!==t&&(e.classList.remove("active"),e.querySelector(".faq__answer").style.maxHeight=null)}),e?(t.classList.remove("active"),a.style.maxHeight=null):(t.classList.add("active"),a.style.maxHeight=a.scrollHeight+"px")})});t={currentStep:1,totalSteps:3,state:{propertyType:null,finishingClass:null,area:76,height:76,rooms:"studio",repairType:null},init(){this.bindEvents(),this.updateCalculation()},bindEvents(){document.querySelectorAll(".calculator__btn--next").forEach(e=>{e.addEventListener("click",()=>this.nextStep())}),document.querySelectorAll(".calculator__btn--prev").forEach(e=>{e.addEventListener("click",()=>this.prevStep())}),document.querySelectorAll('.calculator__option input[type="radio"]').forEach(e=>{e.addEventListener("change",e=>{var t=e.target.name,e=e.target.value;this.state[t]=e,this.updateCalculation()})}),document.querySelectorAll(".calculator__input").forEach(e=>{e.addEventListener("input",e=>{var t=e.target.name,e=parseFloat(e.target.value)||0;this.state[t]=e,this.updateCalculation()})});var e=document.querySelector('.calculator__select[name="rooms"]');e&&e.addEventListener("change",e=>{this.state.rooms=e.target.value,this.updateCalculation()})},nextStep(){this.validateStep()?this.currentStep<this.totalSteps&&(this.currentStep++,this.updateStepDisplay()):alert("Пожалуйста, выберите опцию перед продолжением")},prevStep(){1<this.currentStep&&(this.currentStep--,this.updateStepDisplay())},validateStep(){return 1===this.currentStep?null!==this.state.propertyType:2!==this.currentStep||null!==this.state.finishingClass},updateStepDisplay(){document.querySelectorAll(".calculator__step").forEach((e,t)=>{t+1===this.currentStep?e.classList.add("calculator__step--active"):e.classList.remove("calculator__step--active")}),document.querySelectorAll(".calculator__step-indicator").forEach(e=>{e.textContent=`Шаг ${this.currentStep} / `+this.totalSteps}),document.querySelectorAll(".calculator__btn--prev").forEach(e=>{e.disabled=1===this.currentStep})},updateCalculation(){var{propertyType:e,finishingClass:t,area:a,repairType:r}=this.state,l=15e3,e={"newbuild-no-finish":1,"newbuild-whitebox":.9,secondary:1.1,"old-building":1.3,commercial:1.4,"country-house":1.2}[e]||1,t={budget:1,comfort:1.5,premium:2}[t]||1,i=Math.round(a*l*.3*e*({cosmetic:.7,major:1,designer:1.5}[r]||1)),r="designer"===r?Math.round(5e3*a):Math.round(2e3*a),e=Math.round(a*l*.15*e),s=Math.round(a*l*.4*t),a=Math.round(a*l*.6*t),l=i+r+e+s+a;this.updateResultValue("baseWork",i),this.updateResultValue("design",r),this.updateResultValue("roughMaterials",e),this.updateResultValue("finishMaterials",s),this.updateResultValue("furniture",a),this.updateResultValue("total",l)},updateResultValue(e,t){e=document.querySelector(`[data-calc="${e}"]`);e&&(e.textContent=this.formatPrice(t))},formatPrice(e){return new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}};document.querySelector(".calculator")&&t.init()});
//# sourceMappingURL=index.js.map
