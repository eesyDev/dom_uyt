{"version":3,"file":"index.js","sources":["index.js"],"sourcesContent":["jQuery(document).ready(function ($) {\r\n    // ===== MOBILE MENU =====\r\n    const burger = document.querySelector('.burger');\r\n    const mobileMenu = document.querySelector('.mobile-menu');\r\n    const mobileMenuOverlay = document.querySelector('.mobile-menu__overlay');\r\n    const mobileMenuLinks = document.querySelectorAll('.mobile-menu__nav a');\r\n\r\n    function toggleMobileMenu() {\r\n        burger.classList.toggle('active');\r\n        mobileMenu.classList.toggle('active');\r\n        mobileMenuOverlay.classList.toggle('active');\r\n        document.body.classList.toggle('menu-open');\r\n    }\r\n\r\n    function closeMobileMenu() {\r\n        burger.classList.remove('active');\r\n        mobileMenu.classList.remove('active');\r\n        mobileMenuOverlay.classList.remove('active');\r\n        document.body.classList.remove('menu-open');\r\n    }\r\n\r\n    if (burger) {\r\n        burger.addEventListener('click', toggleMobileMenu);\r\n    }\r\n\r\n    if (mobileMenuOverlay) {\r\n        mobileMenuOverlay.addEventListener('click', closeMobileMenu);\r\n    }\r\n\r\n    if (mobileMenuLinks) {\r\n        mobileMenuLinks.forEach(link => {\r\n            link.addEventListener('click', closeMobileMenu);\r\n        });\r\n    }\r\n\r\n\r\n    const promoSliders = document.querySelectorAll('.portfolio__card-slider');\r\n    try {\r\n        promoSliders && promoSliders.forEach((slider, index) => {\r\n            new Swiper(`.portfolio__card-slider--${index + 1}`, {\r\n                slidesPerView: 1,\r\n                spaceBetween: 20,\r\n                navigation: {\r\n                    nextEl: '.swiper-button-next',\r\n                    prevEl: '.swiper-button-prev',\r\n                },\r\n                pagination: {\r\n                    el: '.swiper-pagination',\r\n                    clickable: true,\r\n                },\r\n                // breakpoints: {\r\n                //     1199: {\r\n                //         slidesPerView: 4,\r\n                //     },\r\n                //     1024: {\r\n                //         slidesPerView: 3,\r\n                //     },\r\n                //     620: {\r\n                //         slidesPerView: 2,\r\n                //     }\r\n                // }\r\n            })\r\n        })\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n\r\n    try {\r\n        new Swiper('.jk-slider', {\r\n            slidesPerView: 1,\r\n            spaceBetween: 20,\r\n            navigation: {\r\n                nextEl: '.jk-slider-btn--next',\r\n                prevEl: '.jk-slider-btn--prev',\r\n            },\r\n            pagination: {\r\n                el: '.swiper-pagination',\r\n                clickable: true,\r\n            },\r\n            breakpoints: {\r\n                320: {\r\n                    slidesPerView: 1,\r\n                    spaceBetween: 15,\r\n                },\r\n                640: {\r\n                    slidesPerView: 2,\r\n                    spaceBetween: 15,\r\n                },\r\n                1024: {\r\n                    slidesPerView: 3,\r\n                    spaceBetween: 20,\r\n                },\r\n                1280: {\r\n                    slidesPerView: 4,\r\n                    spaceBetween: 20,\r\n                }\r\n            }\r\n        })\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n    document.querySelectorAll('.portfolio__card-descr-wrapper').forEach(wrapper => {\r\n        const text = wrapper.querySelector('.portfolio__card-descr');\r\n        const btn = wrapper.querySelector('.portfolio__card-descr-toggle');\r\n\r\n        console.log('hhfhf')\r\n\r\n        btn.addEventListener('click', () => {\r\n            text.classList.toggle('portfolio__card-descr--expanded');\r\n            btn.textContent = text.classList.contains('portfolio__card-descr--expanded')\r\n                ? 'Свернуть'\r\n                : 'Развернуть';\r\n        });\r\n    });\r\n\r\n\r\n    // FAQ Accordion\r\n    const faqItems = document.querySelectorAll('.faq__item');\r\n\r\n    faqItems.forEach(item => {\r\n        const question = item.querySelector('.faq__question');\r\n        const answer = item.querySelector('.faq__answer');\r\n\r\n        if (item.classList.contains('active')) {\r\n            answer.style.maxHeight = answer.scrollHeight + 'px';\r\n        }\r\n\r\n        question.addEventListener('click', () => {\r\n            const isActive = item.classList.contains('active');\r\n\r\n            faqItems.forEach(otherItem => {\r\n                if (otherItem !== item) {\r\n                    otherItem.classList.remove('active');\r\n                    otherItem.querySelector('.faq__answer').style.maxHeight = null;\r\n                }\r\n            });\r\n\r\n            if (isActive) {\r\n                item.classList.remove('active');\r\n                answer.style.maxHeight = null;\r\n            } else {\r\n                item.classList.add('active');\r\n                answer.style.maxHeight = answer.scrollHeight + 'px';\r\n            }\r\n        });\r\n    });\r\n\r\n    // ===== CALCULATOR =====\r\n    const calculator = {\r\n        currentStep: 1,\r\n        totalSteps: 3,\r\n        state: {\r\n            propertyType: null,\r\n            finishingClass: null,\r\n            area: 76,\r\n            height: 76,\r\n            rooms: 'studio',\r\n            repairType: null\r\n        },\r\n\r\n        init() {\r\n            this.bindEvents();\r\n            this.updateCalculation();\r\n        },\r\n\r\n        bindEvents() {\r\n            // Navigation buttons\r\n            document.querySelectorAll('.calculator__btn--next').forEach(btn => {\r\n                btn.addEventListener('click', () => this.nextStep());\r\n            });\r\n\r\n            document.querySelectorAll('.calculator__btn--prev').forEach(btn => {\r\n                btn.addEventListener('click', () => this.prevStep());\r\n            });\r\n\r\n            // Radio buttons\r\n            document.querySelectorAll('.calculator__option input[type=\"radio\"]').forEach(radio => {\r\n                radio.addEventListener('change', (e) => {\r\n                    const name = e.target.name;\r\n                    const value = e.target.value;\r\n                    this.state[name] = value;\r\n                    this.updateCalculation();\r\n                });\r\n            });\r\n\r\n            // Input fields\r\n            document.querySelectorAll('.calculator__input').forEach(input => {\r\n                input.addEventListener('input', (e) => {\r\n                    const name = e.target.name;\r\n                    const value = parseFloat(e.target.value) || 0;\r\n                    this.state[name] = value;\r\n                    this.updateCalculation();\r\n                });\r\n            });\r\n\r\n            // Select\r\n            const roomsSelect = document.querySelector('.calculator__select[name=\"rooms\"]');\r\n            if (roomsSelect) {\r\n                roomsSelect.addEventListener('change', (e) => {\r\n                    this.state.rooms = e.target.value;\r\n                    this.updateCalculation();\r\n                });\r\n            }\r\n        },\r\n\r\n        nextStep() {\r\n            if (!this.validateStep()) {\r\n                alert('Пожалуйста, выберите опцию перед продолжением');\r\n                return;\r\n            }\r\n\r\n            if (this.currentStep < this.totalSteps) {\r\n                this.currentStep++;\r\n                this.updateStepDisplay();\r\n            }\r\n        },\r\n\r\n        prevStep() {\r\n            if (this.currentStep > 1) {\r\n                this.currentStep--;\r\n                this.updateStepDisplay();\r\n            }\r\n        },\r\n\r\n        validateStep() {\r\n            if (this.currentStep === 1) {\r\n                return this.state.propertyType !== null;\r\n            }\r\n            if (this.currentStep === 2) {\r\n                return this.state.finishingClass !== null;\r\n            }\r\n            return true;\r\n        },\r\n\r\n        updateStepDisplay() {\r\n            document.querySelectorAll('.calculator__step').forEach((step, index) => {\r\n                if (index + 1 === this.currentStep) {\r\n                    step.classList.add('calculator__step--active');\r\n                } else {\r\n                    step.classList.remove('calculator__step--active');\r\n                }\r\n            });\r\n\r\n            // Update step indicators\r\n            document.querySelectorAll('.calculator__step-indicator').forEach(indicator => {\r\n                indicator.textContent = `Шаг ${this.currentStep} / ${this.totalSteps}`;\r\n            });\r\n\r\n            // Update prev button state\r\n            document.querySelectorAll('.calculator__btn--prev').forEach(btn => {\r\n                btn.disabled = this.currentStep === 1;\r\n            });\r\n        },\r\n\r\n        updateCalculation() {\r\n            const { propertyType, finishingClass, area, repairType } = this.state;\r\n\r\n            // Base price per m² depending on property type\r\n            const propertyTypeMultiplier = {\r\n                'newbuild-no-finish': 1.0,\r\n                'newbuild-whitebox': 0.9,\r\n                'secondary': 1.1,\r\n                'old-building': 1.3,\r\n                'commercial': 1.4,\r\n                'country-house': 1.2\r\n            };\r\n\r\n            // Finishing class multiplier\r\n            const finishingMultiplier = {\r\n                'budget': 1.0,\r\n                'comfort': 1.5,\r\n                'premium': 2.0\r\n            };\r\n\r\n            // Repair type multiplier\r\n            const repairMultiplier = {\r\n                'cosmetic': 0.7,\r\n                'major': 1.0,\r\n                'designer': 1.5\r\n            };\r\n\r\n            const basePricePerSqm = 15000; // Base price per m²\r\n            const propertyMult = propertyTypeMultiplier[propertyType] || 1.0;\r\n            const finishMult = finishingMultiplier[finishingClass] || 1.0;\r\n            const repairMult = repairMultiplier[repairType] || 1.0;\r\n\r\n            // Calculate each component\r\n            const baseWork = Math.round(area * basePricePerSqm * 0.3 * propertyMult * repairMult);\r\n            const design = repairType === 'designer' ? Math.round(area * 5000) : Math.round(area * 2000);\r\n            const roughMaterials = Math.round(area * basePricePerSqm * 0.15 * propertyMult);\r\n            const finishMaterials = Math.round(area * basePricePerSqm * 0.4 * finishMult);\r\n            const furniture = Math.round(area * basePricePerSqm * 0.6 * finishMult);\r\n\r\n            const total = baseWork + design + roughMaterials + finishMaterials + furniture;\r\n\r\n            // Update UI\r\n            this.updateResultValue('baseWork', baseWork);\r\n            this.updateResultValue('design', design);\r\n            this.updateResultValue('roughMaterials', roughMaterials);\r\n            this.updateResultValue('finishMaterials', finishMaterials);\r\n            this.updateResultValue('furniture', furniture);\r\n            this.updateResultValue('total', total);\r\n        },\r\n\r\n        updateResultValue(key, value) {\r\n            const element = document.querySelector(`[data-calc=\"${key}\"]`);\r\n            if (element) {\r\n                element.textContent = this.formatPrice(value);\r\n            }\r\n        },\r\n\r\n        formatPrice(price) {\r\n            return new Intl.NumberFormat('ru-RU', {\r\n                style: 'currency',\r\n                currency: 'RUB',\r\n                minimumFractionDigits: 0,\r\n                maximumFractionDigits: 0\r\n            }).format(price);\r\n        }\r\n    };\r\n\r\n    // Initialize calculator if it exists on page\r\n    if (document.querySelector('.calculator')) {\r\n        calculator.init();\r\n    }\r\n});\r\n"],"names":["jQuery","document","ready","$","burger","querySelector","mobileMenu","mobileMenuOverlay","mobileMenuLinks","querySelectorAll","closeMobileMenu","classList","remove","body","addEventListener","toggle","forEach","link","promoSliders","slider","index","Swiper","slidesPerView","spaceBetween","navigation","nextEl","prevEl","pagination","el","clickable","error","console","log","breakpoints","320","640","1024","1280","wrapper","text","btn","textContent","contains","faqItems","item","question","answer","style","maxHeight","scrollHeight","isActive","otherItem","add","calculator","currentStep","totalSteps","state","propertyType","finishingClass","area","height","rooms","repairType","init","this","bindEvents","updateCalculation","nextStep","prevStep","radio","name","e","target","value","input","parseFloat","roomsSelect","validateStep","updateStepDisplay","alert","step","indicator","disabled","basePricePerSqm","propertyMult","newbuild-no-finish","newbuild-whitebox","secondary","old-building","commercial","country-house","finishMult","budget","comfort","premium","baseWork","Math","round","cosmetic","major","designer","design","roughMaterials","finishMaterials","furniture","total","updateResultValue","key","element","formatPrice","price","Intl","NumberFormat","currency","minimumFractionDigits","maximumFractionDigits","format"],"mappings":"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"}