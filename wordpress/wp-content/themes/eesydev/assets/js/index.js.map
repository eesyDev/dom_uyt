{"version":3,"file":"index.js","sources":["index.js"],"sourcesContent":["jQuery(document).ready(function ($) {\r\n    window.App = window.App || {};\r\n\r\n    App.isScrollTopBody = true;\r\n    App.winLocHash = window.location.hash;\r\n    App.$body = $('body');\r\n    App.$htmlBody = $('html, body');\r\n    App.$modelsMenu = $('.slider-menu .models-menu');\r\n    App.$productsMobile = $('.products-mobile');\r\n    App.$headerMobile = $('.header-mobile');\r\n    App.$currentProduct = null;\r\n    App.$nextProduct = null;\r\n\r\n    //Mask\t\r\n    // $('.inpt-tel').mask('+7 (999) 999-99-99');\r\n\r\n    // opening popups\r\n    App.$body.on('click touch', '.open-dialog, .open-popup, .open-form, .open-modal', function (event) {\r\n        event.preventDefault();\r\n        const category = $(this).attr('href');\r\n        const $dialogs = $('.dialogs');\r\n        const $categoryDialogs = $dialogs.find(category);\r\n        const $flexPopup = $dialogs.find('.flex-popup');\r\n        const popupCategory = category.slice(1);\r\n\r\n        if (popupCategory !== 'policy') {\r\n            localStorage.setItem('popup', popupCategory);\r\n        }\r\n\r\n        if (popupCategory === 'list') {\r\n            App.$body.css({ 'overflow-y': 'hidden' });\r\n            $dialogs.css({ 'overflow-y': 'hidden' });\r\n        }\r\n\r\n        $dialogs.find('.popup').removeClass('active').hide();\r\n\r\n        if (!$categoryDialogs.length) {\r\n            console.log(`Попап с ID ${category} не найден.`);\r\n            return false;\r\n        }\r\n\r\n        $dialogs.find('.popup').removeClass('active').hide();\r\n        $categoryDialogs.show();\r\n        $dialogs.show();\r\n\r\n        $flexPopup.addClass('popup--' + popupCategory);\r\n        $dialogs.animate({ opacity: 1 }, 300, () => {\r\n            $categoryDialogs.addClass('active');\r\n            App.$body.css({ 'overflow-y': 'hidden' });\r\n        });\r\n\r\n        return false;\r\n    });\r\n\r\n    // closing popups\r\n    $('.dialogs').on('click touch', '.close, .close-bg', function () {\r\n        const $dialogs = $('.dialogs');\r\n        const $flexPopup = $dialogs.find('.flex-popup');\r\n        const $activePopup = $dialogs.find('.popup.active');\r\n        const popupId = $activePopup.attr('id');\r\n\r\n        const bodyScroll = () => {\r\n            App.$body.css({ 'overflow-y': 'auto' });\r\n        };\r\n\r\n        const removeClassPopup = () => {\r\n            $flexPopup.removeClass(function (index, className) {\r\n                return (className.match(/popup--\\S+/g) || []).join(' ');\r\n            });\r\n        };\r\n\r\n        const $popupActive = $flexPopup.find('.popup.active');\r\n\r\n        if (popupId === 'cart') { // Корзина\r\n            $popupActive.animate({ right: '-100%', opacity: 0 }, 600, function () {\r\n                $dialogs.animate({ opacity: 0 }, 300, function () {\r\n                    $dialogs.find('.popup').removeClass('active').hide();\r\n                    $popupActive.removeAttr('style');\r\n                    $dialogs.hide();\r\n                    $dialogs.find('.thanks-popup').hide();\r\n                    removeClassPopup();\r\n                });\r\n                bodyScroll();\r\n            });\r\n\r\n        } else if (popupId === 'policy') { // Политика конфиденциальности\r\n\r\n            $popupActive.removeClass('active').hide();\r\n\r\n            let popupCategory = localStorage.getItem('popup');\r\n\r\n            // Открываем popup с соответствующим ID\r\n            const $popupToOpen = $('.dialogs #' + popupCategory);\r\n            if ($popupToOpen.length) {\r\n                $popupToOpen.addClass('active').show();\r\n                $dialogs.show();\r\n            } else {\r\n                console.log('Попап с ID ' + popupCategory + ' не найден.');\r\n            }\r\n\r\n        } else if (popupId === 'details') { // Детали преимуществ\r\n\r\n            $popupActive.animate({ top: '100%', opacity: 0 }, 600, function () {\r\n                $dialogs.animate({ opacity: 0 }, 400, function () {\r\n                    $dialogs.find('.popup').removeClass('active').hide();\r\n                    $popupActive.removeAttr('style');\r\n                    $dialogs.hide();\r\n                    removeClassPopup();\r\n                });\r\n                bodyScroll();\r\n            });\r\n\r\n        } else if (popupId === 'list') {\r\n\r\n            $popupActive.animate({ bottom: '-100%', opacity: 0 }, 600, function () {\r\n                $dialogs.animate({ opacity: 0 }, 300, function () {\r\n                    $dialogs.find('.popup').removeClass('active').hide();\r\n                    $popupActive.removeAttr('style');\r\n                    $dialogs.hide();\r\n                    removeClassPopup();\r\n                });\r\n                bodyScroll();\r\n            });\r\n\r\n        } else { // Остальные окна\r\n\r\n            $popupActive.removeClass('active').hide();\r\n            $dialogs.animate({ opacity: 0 }, 300, function () {\r\n                $dialogs.hide();\r\n                $dialogs.find('.thanks-popup').hide();\r\n                removeClassPopup();\r\n                bodyScroll();\r\n            });\r\n        }\r\n        pauseOtherVideos('.swiper-slide');\r\n    });\r\n\r\n    const workTitleLinks = document.querySelectorAll('.work-title-link');\r\n    const workItems = document.querySelectorAll('.work-item');\r\n    let activeIndex = null;\r\n\r\n    workTitleLinks.forEach((link, index) => {\r\n        link.addEventListener('click', (e) => {\r\n            const clickedTitleLinkWrap = link.parentElement.parentElement.parentElement;\r\n            e.preventDefault();\r\n\r\n            if (activeIndex === index) {\r\n                return;\r\n            }\r\n\r\n            workItems.forEach((item, itemIndex) => {\r\n                if (item === clickedTitleLinkWrap) {\r\n                    item.classList.add('u-pointer');\r\n                    gsap.to(item, {\r\n                        opacity: 0,\r\n                        duration: 0.3,\r\n                        ease: 'power2.out'\r\n                    });\r\n                    gsap.to(clickedTitleLinkWrap, {\r\n                        opacity: 0,\r\n                        duration: 0.3,\r\n                        ease: 'power2.out'\r\n                    });\r\n                } else {\r\n                    item.classList.remove('u-pointer');\r\n                    gsap.to(item, {\r\n                        opacity: 1,\r\n                        duration: 0.3,\r\n                        ease: 'power2.out'\r\n                    });\r\n                    gsap.to(workTitleLinks[itemIndex].parentElement.parentElement, {\r\n                        opacity: 1,\r\n                        duration: 0.3,\r\n                        ease: 'power2.out'\r\n                    });\r\n                }\r\n            });\r\n            activeIndex = index;\r\n            console.log(index)\r\n        });\r\n    });\r\n\r\n    $(document).ready(function () {\r\n        $('.accordion-header:first').addClass('active');\r\n        $('.accordion-content:first').show();\r\n\r\n        $('.accordion-header').click(function () {\r\n            const content = $(this).next('.accordion-content');\r\n\r\n            $('.accordion-content').not(content).slideUp(300);\r\n            $('.accordion-header').not(this).removeClass('active');\r\n\r\n            $(this).toggleClass('active');\r\n            content.slideToggle(300);\r\n        });\r\n    });\r\n\r\n    wow = new WOW(\r\n        {\r\n            boxClass: 'wow',\r\n            animateClass: 'animated',\r\n            offset: 50,\r\n            mobile: true,\r\n            live: true\r\n        }\r\n    );\r\n    wow.init();\r\n\r\n    $('.header__burger').on('click', function () {\r\n        $(this).toggleClass('active');\r\n        if ($(this).hasClass('active')) {\r\n            $('.burger-menu').addClass('active');\r\n        } else {\r\n            $('.burger-menu').removeClass('active');\r\n        }\r\n    });\r\n    $(document).ready(function () {\r\n        $(\".cases-img\").on(\"load\", function () {\r\n            $(this).closest(\".cases-shot-loader\").hide();\r\n        });\r\n    });\r\n\r\n\r\n    $(document).ready(function () {\r\n        $(\".tab-nav a\").click(function (event) {\r\n            event.preventDefault();\r\n            var tabId = $(this).attr(\"href\");\r\n\r\n            $(\".tab-nav li\").removeClass(\"active\");\r\n            $(this).parent().addClass(\"active\");\r\n\r\n            $(\".tab-content\").removeClass(\"active\");\r\n            $(tabId).addClass(\"active\");\r\n        });\r\n    });\r\n\r\n    // ===== MOBILE MENU =====\r\n    const burger = document.querySelector('.burger');\r\n    const mobileMenu = document.querySelector('.mobile-menu');\r\n    const mobileMenuOverlay = document.querySelector('.mobile-menu__overlay');\r\n    const mobileMenuLinks = document.querySelectorAll('.mobile-menu__nav a');\r\n\r\n    function toggleMobileMenu() {\r\n        burger.classList.toggle('active');\r\n        mobileMenu.classList.toggle('active');\r\n        mobileMenuOverlay.classList.toggle('active');\r\n        document.body.classList.toggle('menu-open');\r\n    }\r\n\r\n    function closeMobileMenu() {\r\n        burger.classList.remove('active');\r\n        mobileMenu.classList.remove('active');\r\n        mobileMenuOverlay.classList.remove('active');\r\n        document.body.classList.remove('menu-open');\r\n    }\r\n\r\n    if (burger) {\r\n        burger.addEventListener('click', toggleMobileMenu);\r\n    }\r\n\r\n    if (mobileMenuOverlay) {\r\n        mobileMenuOverlay.addEventListener('click', closeMobileMenu);\r\n    }\r\n\r\n    if (mobileMenuLinks) {\r\n        mobileMenuLinks.forEach(link => {\r\n            link.addEventListener('click', closeMobileMenu);\r\n        });\r\n    }\r\n\r\n\r\n    const promoSliders = document.querySelectorAll('.portfolio__card-slider');\r\n    try {\r\n        promoSliders && promoSliders.forEach((slider, index) => {\r\n            new Swiper(`.portfolio__card-slider--${index + 1}`, {\r\n                slidesPerView: 1,\r\n                spaceBetween: 20,\r\n                navigation: {\r\n                    nextEl: '.swiper-button-next',\r\n                    prevEl: '.swiper-button-prev',\r\n                },\r\n                pagination: {\r\n                    el: '.swiper-pagination',\r\n                    clickable: true,\r\n                },\r\n                // breakpoints: {\r\n                //     1199: {\r\n                //         slidesPerView: 4,\r\n                //     },\r\n                //     1024: {\r\n                //         slidesPerView: 3,\r\n                //     },\r\n                //     620: {\r\n                //         slidesPerView: 2,\r\n                //     }\r\n                // }\r\n            })\r\n        })\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n\r\n    try {\r\n        new Swiper('.jk-slider', {\r\n            slidesPerView: 1,\r\n            spaceBetween: 20,\r\n            navigation: {\r\n                nextEl: '.jk-slider-btn--next',\r\n                prevEl: '.jk-slider-btn--prev',\r\n            },\r\n            pagination: {\r\n                el: '.swiper-pagination',\r\n                clickable: true,\r\n            },\r\n            breakpoints: {\r\n                320: {\r\n                    slidesPerView: 1,\r\n                    spaceBetween: 15,\r\n                },\r\n                640: {\r\n                    slidesPerView: 2,\r\n                    spaceBetween: 15,\r\n                },\r\n                1024: {\r\n                    slidesPerView: 3,\r\n                    spaceBetween: 20,\r\n                },\r\n                1280: {\r\n                    slidesPerView: 4,\r\n                    spaceBetween: 20,\r\n                }\r\n            }\r\n        })\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n    document.querySelectorAll('.portfolio__card-descr-wrapper').forEach(wrapper => {\r\n        const text = wrapper.querySelector('.portfolio__card-descr');\r\n        const btn = wrapper.querySelector('.portfolio__card-descr-toggle');\r\n\r\n        console.log('hhfhf')\r\n\r\n        btn.addEventListener('click', () => {\r\n            text.classList.toggle('portfolio__card-descr--expanded');\r\n            btn.textContent = text.classList.contains('portfolio__card-descr--expanded')\r\n                ? 'Свернуть'\r\n                : 'Развернуть';\r\n        });\r\n    });\r\n\r\n\r\n    // FAQ Accordion\r\n    const faqItems = document.querySelectorAll('.faq__item');\r\n\r\n    faqItems.forEach(item => {\r\n        const question = item.querySelector('.faq__question');\r\n        const answer = item.querySelector('.faq__answer');\r\n\r\n        if (item.classList.contains('active')) {\r\n            answer.style.maxHeight = answer.scrollHeight + 'px';\r\n        }\r\n\r\n        question.addEventListener('click', () => {\r\n            const isActive = item.classList.contains('active');\r\n\r\n            faqItems.forEach(otherItem => {\r\n                if (otherItem !== item) {\r\n                    otherItem.classList.remove('active');\r\n                    otherItem.querySelector('.faq__answer').style.maxHeight = null;\r\n                }\r\n            });\r\n\r\n            if (isActive) {\r\n                item.classList.remove('active');\r\n                answer.style.maxHeight = null;\r\n            } else {\r\n                item.classList.add('active');\r\n                answer.style.maxHeight = answer.scrollHeight + 'px';\r\n            }\r\n        });\r\n    });\r\n\r\n    // ===== CALCULATOR =====\r\n    const calculator = {\r\n        currentStep: 1,\r\n        totalSteps: 3,\r\n        state: {\r\n            propertyType: null,\r\n            finishingClass: null,\r\n            area: 76,\r\n            height: 76,\r\n            rooms: 'studio',\r\n            repairType: null\r\n        },\r\n\r\n        init() {\r\n            this.bindEvents();\r\n            this.updateCalculation();\r\n        },\r\n\r\n        bindEvents() {\r\n            // Navigation buttons\r\n            document.querySelectorAll('.calculator__btn--next').forEach(btn => {\r\n                btn.addEventListener('click', () => this.nextStep());\r\n            });\r\n\r\n            document.querySelectorAll('.calculator__btn--prev').forEach(btn => {\r\n                btn.addEventListener('click', () => this.prevStep());\r\n            });\r\n\r\n            // Radio buttons\r\n            document.querySelectorAll('.calculator__option input[type=\"radio\"]').forEach(radio => {\r\n                radio.addEventListener('change', (e) => {\r\n                    const name = e.target.name;\r\n                    const value = e.target.value;\r\n                    this.state[name] = value;\r\n                    this.updateCalculation();\r\n                });\r\n            });\r\n\r\n            // Input fields\r\n            document.querySelectorAll('.calculator__input').forEach(input => {\r\n                input.addEventListener('input', (e) => {\r\n                    const name = e.target.name;\r\n                    const value = parseFloat(e.target.value) || 0;\r\n                    this.state[name] = value;\r\n                    this.updateCalculation();\r\n                });\r\n            });\r\n\r\n            // Select\r\n            const roomsSelect = document.querySelector('.calculator__select[name=\"rooms\"]');\r\n            if (roomsSelect) {\r\n                roomsSelect.addEventListener('change', (e) => {\r\n                    this.state.rooms = e.target.value;\r\n                    this.updateCalculation();\r\n                });\r\n            }\r\n        },\r\n\r\n        nextStep() {\r\n            if (!this.validateStep()) {\r\n                alert('Пожалуйста, выберите опцию перед продолжением');\r\n                return;\r\n            }\r\n\r\n            if (this.currentStep < this.totalSteps) {\r\n                this.currentStep++;\r\n                this.updateStepDisplay();\r\n            }\r\n        },\r\n\r\n        prevStep() {\r\n            if (this.currentStep > 1) {\r\n                this.currentStep--;\r\n                this.updateStepDisplay();\r\n            }\r\n        },\r\n\r\n        validateStep() {\r\n            if (this.currentStep === 1) {\r\n                return this.state.propertyType !== null;\r\n            }\r\n            if (this.currentStep === 2) {\r\n                return this.state.finishingClass !== null;\r\n            }\r\n            return true;\r\n        },\r\n\r\n        updateStepDisplay() {\r\n            document.querySelectorAll('.calculator__step').forEach((step, index) => {\r\n                if (index + 1 === this.currentStep) {\r\n                    step.classList.add('calculator__step--active');\r\n                } else {\r\n                    step.classList.remove('calculator__step--active');\r\n                }\r\n            });\r\n\r\n            // Update step indicators\r\n            document.querySelectorAll('.calculator__step-indicator').forEach(indicator => {\r\n                indicator.textContent = `Шаг ${this.currentStep} / ${this.totalSteps}`;\r\n            });\r\n\r\n            // Update prev button state\r\n            document.querySelectorAll('.calculator__btn--prev').forEach(btn => {\r\n                btn.disabled = this.currentStep === 1;\r\n            });\r\n        },\r\n\r\n        updateCalculation() {\r\n            const { propertyType, finishingClass, area, repairType } = this.state;\r\n\r\n            // Base price per m² depending on property type\r\n            const propertyTypeMultiplier = {\r\n                'newbuild-no-finish': 1.0,\r\n                'newbuild-whitebox': 0.9,\r\n                'secondary': 1.1,\r\n                'old-building': 1.3,\r\n                'commercial': 1.4,\r\n                'country-house': 1.2\r\n            };\r\n\r\n            // Finishing class multiplier\r\n            const finishingMultiplier = {\r\n                'budget': 1.0,\r\n                'comfort': 1.5,\r\n                'premium': 2.0\r\n            };\r\n\r\n            // Repair type multiplier\r\n            const repairMultiplier = {\r\n                'cosmetic': 0.7,\r\n                'major': 1.0,\r\n                'designer': 1.5\r\n            };\r\n\r\n            const basePricePerSqm = 15000; // Base price per m²\r\n            const propertyMult = propertyTypeMultiplier[propertyType] || 1.0;\r\n            const finishMult = finishingMultiplier[finishingClass] || 1.0;\r\n            const repairMult = repairMultiplier[repairType] || 1.0;\r\n\r\n            // Calculate each component\r\n            const baseWork = Math.round(area * basePricePerSqm * 0.3 * propertyMult * repairMult);\r\n            const design = repairType === 'designer' ? Math.round(area * 5000) : Math.round(area * 2000);\r\n            const roughMaterials = Math.round(area * basePricePerSqm * 0.15 * propertyMult);\r\n            const finishMaterials = Math.round(area * basePricePerSqm * 0.4 * finishMult);\r\n            const furniture = Math.round(area * basePricePerSqm * 0.6 * finishMult);\r\n\r\n            const total = baseWork + design + roughMaterials + finishMaterials + furniture;\r\n\r\n            // Update UI\r\n            this.updateResultValue('baseWork', baseWork);\r\n            this.updateResultValue('design', design);\r\n            this.updateResultValue('roughMaterials', roughMaterials);\r\n            this.updateResultValue('finishMaterials', finishMaterials);\r\n            this.updateResultValue('furniture', furniture);\r\n            this.updateResultValue('total', total);\r\n        },\r\n\r\n        updateResultValue(key, value) {\r\n            const element = document.querySelector(`[data-calc=\"${key}\"]`);\r\n            if (element) {\r\n                element.textContent = this.formatPrice(value);\r\n            }\r\n        },\r\n\r\n        formatPrice(price) {\r\n            return new Intl.NumberFormat('ru-RU', {\r\n                style: 'currency',\r\n                currency: 'RUB',\r\n                minimumFractionDigits: 0,\r\n                maximumFractionDigits: 0\r\n            }).format(price);\r\n        }\r\n    };\r\n\r\n    // Initialize calculator if it exists on page\r\n    if (document.querySelector('.calculator')) {\r\n        calculator.init();\r\n    }\r\n});\r\n"],"names":["jQuery","document","ready","$","window","App","isScrollTopBody","winLocHash","location","hash","$body","$htmlBody","$modelsMenu","$productsMobile","$headerMobile","$currentProduct","$nextProduct","on","event","preventDefault","category","this","attr","$dialogs","$categoryDialogs","find","$flexPopup","popupCategory","slice","localStorage","setItem","css","overflow-y","removeClass","hide","length","show","addClass","animate","opacity","console","log","$popupToOpen","popupId","bodyScroll","removeClassPopup","index","className","match","join","$popupActive","right","removeAttr","getItem","top","bottom","pauseOtherVideos","workTitleLinks","querySelectorAll","workItems","activeIndex","burger","forEach","link","addEventListener","clickedTitleLinkWrap","parentElement","e","item","itemIndex","classList","add","gsap","to","duration","ease","remove","click","content","next","not","slideUp","toggleClass","slideToggle","wow","WOW","boxClass","animateClass","offset","mobile","live","init","hasClass","closest","tabId","parent","querySelector","mobileMenu","mobileMenuOverlay","mobileMenuLinks","closeMobileMenu","body","toggle","promoSliders","slider","Swiper","slidesPerView","spaceBetween","navigation","nextEl","prevEl","pagination","el","clickable","error","breakpoints","320","640","1024","1280","wrapper","text","btn","textContent","contains","faqItems","question","answer","style","maxHeight","scrollHeight","isActive","otherItem","calculator","currentStep","totalSteps","state","propertyType","finishingClass","area","height","rooms","repairType","bindEvents","updateCalculation","nextStep","prevStep","radio","name","target","value","input","parseFloat","roomsSelect","validateStep","updateStepDisplay","alert","step","indicator","disabled","propertyMult","newbuild-no-finish","newbuild-whitebox","secondary","old-building","commercial","country-house","finishMult","budget","comfort","premium","baseWork","Math","round","cosmetic","major","designer","design","roughMaterials","finishMaterials","furniture","total","updateResultValue","key","element","formatPrice","price","Intl","NumberFormat","currency","minimumFractionDigits","maximumFractionDigits","format"],"mappings":"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"}