{"version":3,"file":"index.js","sources":["index.js"],"sourcesContent":["jQuery(document).ready(function ($) {\n    // ===== MOBILE MENU =====\n    const burger = document.querySelector('.burger');\n    const mobileMenu = document.querySelector('.mobile-menu');\n    const mobileMenuOverlay = document.querySelector('.mobile-menu__overlay');\n    const mobileMenuLinks = document.querySelectorAll('.mobile-menu__nav a');\n\n    function toggleMobileMenu() {\n        burger.classList.toggle('active');\n        mobileMenu.classList.toggle('active');\n        mobileMenuOverlay.classList.toggle('active');\n        document.body.classList.toggle('menu-open');\n    }\n\n    function closeMobileMenu() {\n        burger.classList.remove('active');\n        mobileMenu.classList.remove('active');\n        mobileMenuOverlay.classList.remove('active');\n        document.body.classList.remove('menu-open');\n    }\n\n    if (burger) {\n        burger.addEventListener('click', toggleMobileMenu);\n    }\n\n    if (mobileMenuOverlay) {\n        mobileMenuOverlay.addEventListener('click', closeMobileMenu);\n    }\n\n    if (mobileMenuLinks) {\n        mobileMenuLinks.forEach(link => {\n            link.addEventListener('click', closeMobileMenu);\n        });\n    }\n\n\n    const promoSliders = document.querySelectorAll('.portfolio__card-slider');\n    try {\n        promoSliders && promoSliders.forEach((slider, index) => {\n            new Swiper(`.portfolio__card-slider--${index + 1}`, {\n                slidesPerView: 1,\n                spaceBetween: 20,\n                navigation: {\n                    nextEl: '.swiper-button-next',\n                    prevEl: '.swiper-button-prev',\n                },\n                pagination: {\n                    el: '.swiper-pagination',\n                    clickable: true,\n                },\n                // breakpoints: {\n                //     1199: {\n                //         slidesPerView: 4,\n                //     },\n                //     1024: {\n                //         slidesPerView: 3,\n                //     },\n                //     620: {\n                //         slidesPerView: 2,\n                //     }\n                // }\n            })\n        })\n    } catch (error) {\n        console.log(error)\n    }\n\n    try {\n        new Swiper('.jk-slider', {\n            slidesPerView: 1,\n            spaceBetween: 20,\n            navigation: {\n                nextEl: '.jk-slider-btn--next',\n                prevEl: '.jk-slider-btn--prev',\n            },\n            pagination: {\n                el: '.swiper-pagination',\n                clickable: true,\n            },\n            breakpoints: {\n                320: {\n                    slidesPerView: 1,\n                    spaceBetween: 15,\n                },\n                640: {\n                    slidesPerView: 2,\n                    spaceBetween: 15,\n                },\n                1024: {\n                    slidesPerView: 3,\n                    spaceBetween: 20,\n                },\n                1280: {\n                    slidesPerView: 4,\n                    spaceBetween: 20,\n                }\n            }\n        })\n    } catch (error) {\n        console.log(error)\n    }\n    document.querySelectorAll('.portfolio__card-descr-wrapper').forEach(wrapper => {\n        const text = wrapper.querySelector('.portfolio__card-descr');\n        const btn = wrapper.querySelector('.portfolio__card-descr-toggle');\n\n        console.log('hhfhf')\n\n        btn.addEventListener('click', () => {\n            text.classList.toggle('portfolio__card-descr--expanded');\n            btn.textContent = text.classList.contains('portfolio__card-descr--expanded')\n                ? 'Свернуть'\n                : 'Развернуть';\n        });\n    });\n\n\n    // FAQ Accordion\n    const faqItems = document.querySelectorAll('.faq__item');\n\n    faqItems.forEach(item => {\n        const question = item.querySelector('.faq__question');\n        const answer = item.querySelector('.faq__answer');\n\n        if (item.classList.contains('active')) {\n            answer.style.maxHeight = answer.scrollHeight + 'px';\n        }\n\n        question.addEventListener('click', () => {\n            const isActive = item.classList.contains('active');\n\n            faqItems.forEach(otherItem => {\n                if (otherItem !== item) {\n                    otherItem.classList.remove('active');\n                    otherItem.querySelector('.faq__answer').style.maxHeight = null;\n                }\n            });\n\n            if (isActive) {\n                item.classList.remove('active');\n                answer.style.maxHeight = null;\n            } else {\n                item.classList.add('active');\n                answer.style.maxHeight = answer.scrollHeight + 'px';\n            }\n        });\n    });\n\n    // ===== CALCULATOR =====\n    const calculator = {\n        currentStep: 1,\n        totalSteps: 3,\n        state: {\n            propertyType: null,\n            finishingClass: null,\n            area: 76,\n            height: 76,\n            rooms: 'studio',\n            repairType: null\n        },\n\n        init() {\n            this.bindEvents();\n            this.updateCalculation();\n        },\n\n        bindEvents() {\n            // Navigation buttons\n            document.querySelectorAll('.calculator__btn--next').forEach(btn => {\n                btn.addEventListener('click', () => this.nextStep());\n            });\n\n            document.querySelectorAll('.calculator__btn--prev').forEach(btn => {\n                btn.addEventListener('click', () => this.prevStep());\n            });\n\n            // Radio buttons\n            document.querySelectorAll('.calculator__option input[type=\"radio\"]').forEach(radio => {\n                radio.addEventListener('change', (e) => {\n                    const name = e.target.name;\n                    const value = e.target.value;\n                    this.state[name] = value;\n                    this.updateCalculation();\n                });\n            });\n\n            // Input fields\n            document.querySelectorAll('.calculator__input').forEach(input => {\n                input.addEventListener('input', (e) => {\n                    const name = e.target.name;\n                    const value = parseFloat(e.target.value) || 0;\n                    this.state[name] = value;\n                    this.updateCalculation();\n                });\n            });\n\n            // Select\n            const roomsSelect = document.querySelector('.calculator__select[name=\"rooms\"]');\n            if (roomsSelect) {\n                roomsSelect.addEventListener('change', (e) => {\n                    this.state.rooms = e.target.value;\n                    this.updateCalculation();\n                });\n            }\n        },\n\n        nextStep() {\n            if (!this.validateStep()) {\n                alert('Пожалуйста, выберите опцию перед продолжением');\n                return;\n            }\n\n            if (this.currentStep < this.totalSteps) {\n                this.currentStep++;\n                this.updateStepDisplay();\n            }\n        },\n\n        prevStep() {\n            if (this.currentStep > 1) {\n                this.currentStep--;\n                this.updateStepDisplay();\n            }\n        },\n\n        validateStep() {\n            if (this.currentStep === 1) {\n                return this.state.propertyType !== null;\n            }\n            if (this.currentStep === 2) {\n                return this.state.finishingClass !== null;\n            }\n            return true;\n        },\n\n        updateStepDisplay() {\n            document.querySelectorAll('.calculator__step').forEach((step, index) => {\n                if (index + 1 === this.currentStep) {\n                    step.classList.add('calculator__step--active');\n                } else {\n                    step.classList.remove('calculator__step--active');\n                }\n            });\n\n            // Update step indicators\n            document.querySelectorAll('.calculator__step-indicator').forEach(indicator => {\n                indicator.textContent = `Шаг ${this.currentStep} / ${this.totalSteps}`;\n            });\n\n            // Update prev button state\n            document.querySelectorAll('.calculator__btn--prev').forEach(btn => {\n                btn.disabled = this.currentStep === 1;\n            });\n        },\n\n        updateCalculation() {\n            const { propertyType, finishingClass, area, repairType } = this.state;\n\n            // Base price per m² depending on property type\n            const propertyTypeMultiplier = {\n                'newbuild-no-finish': 1.0,\n                'newbuild-whitebox': 0.9,\n                'secondary': 1.1,\n                'old-building': 1.3,\n                'commercial': 1.4,\n                'country-house': 1.2\n            };\n\n            // Finishing class multiplier\n            const finishingMultiplier = {\n                'budget': 1.0,\n                'comfort': 1.5,\n                'premium': 2.0\n            };\n\n            // Repair type multiplier\n            const repairMultiplier = {\n                'cosmetic': 0.7,\n                'major': 1.0,\n                'designer': 1.5\n            };\n\n            const basePricePerSqm = 15000; // Base price per m²\n            const propertyMult = propertyTypeMultiplier[propertyType] || 1.0;\n            const finishMult = finishingMultiplier[finishingClass] || 1.0;\n            const repairMult = repairMultiplier[repairType] || 1.0;\n\n            // Calculate each component\n            const baseWork = Math.round(area * basePricePerSqm * 0.3 * propertyMult * repairMult);\n            const design = repairType === 'designer' ? Math.round(area * 5000) : Math.round(area * 2000);\n            const roughMaterials = Math.round(area * basePricePerSqm * 0.15 * propertyMult);\n            const finishMaterials = Math.round(area * basePricePerSqm * 0.4 * finishMult);\n            const furniture = Math.round(area * basePricePerSqm * 0.6 * finishMult);\n\n            const total = baseWork + design + roughMaterials + finishMaterials + furniture;\n\n            // Update UI\n            this.updateResultValue('baseWork', baseWork);\n            this.updateResultValue('design', design);\n            this.updateResultValue('roughMaterials', roughMaterials);\n            this.updateResultValue('finishMaterials', finishMaterials);\n            this.updateResultValue('furniture', furniture);\n            this.updateResultValue('total', total);\n        },\n\n        updateResultValue(key, value) {\n            const element = document.querySelector(`[data-calc=\"${key}\"]`);\n            if (element) {\n                element.textContent = this.formatPrice(value);\n            }\n        },\n\n        formatPrice(price) {\n            return new Intl.NumberFormat('ru-RU', {\n                style: 'currency',\n                currency: 'RUB',\n                minimumFractionDigits: 0,\n                maximumFractionDigits: 0\n            }).format(price);\n        }\n    };\n\n    // Initialize calculator if it exists on page\n    if (document.querySelector('.calculator')) {\n        calculator.init();\n    }\n});\n"],"names":["jQuery","document","ready","$","burger","querySelector","mobileMenu","mobileMenuOverlay","mobileMenuLinks","querySelectorAll","closeMobileMenu","classList","remove","body","addEventListener","toggle","forEach","link","promoSliders","slider","index","Swiper","slidesPerView","spaceBetween","navigation","nextEl","prevEl","pagination","el","clickable","error","console","log","breakpoints","320","640","1024","1280","wrapper","text","btn","textContent","contains","faqItems","item","question","answer","style","maxHeight","scrollHeight","isActive","otherItem","add","calculator","currentStep","totalSteps","state","propertyType","finishingClass","area","height","rooms","repairType","init","this","bindEvents","updateCalculation","nextStep","prevStep","radio","name","e","target","value","input","parseFloat","roomsSelect","validateStep","updateStepDisplay","alert","step","indicator","disabled","basePricePerSqm","propertyMult","newbuild-no-finish","newbuild-whitebox","secondary","old-building","commercial","country-house","finishMult","budget","comfort","premium","baseWork","Math","round","cosmetic","major","designer","design","roughMaterials","finishMaterials","furniture","total","updateResultValue","key","element","formatPrice","price","Intl","NumberFormat","currency","minimumFractionDigits","maximumFractionDigits","format"],"mappings":"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"}